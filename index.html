<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Evan Frawley — Portfolio Highlights</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css">

  <style>
    :root{
      --ui-font: Arial, Helvetica, sans-serif;
      --ui-border: #7fa1bb;
      --ui-bg-top: linear-gradient(#cfe1f1, #9fc0d8);
    }

    html, body { height: 100%; margin: 0; background: #e7eef5; }

    .stage{
      height: 100%;
      display: grid;
      place-items: center;
      padding: 18px;
      box-sizing: border-box;
      font-family: var(--ui-font);
    }

    .gmaps-window{
      width: min(1100px, 100%);
      aspect-ratio: 16 / 10;
      border: 2px solid var(--ui-border);
      box-shadow: 0 12px 28px rgba(0,0,0,.18);
      background: #dfeaf4;
      position: relative;
      overflow: hidden;
    }

    .titlebar{
      height: 26px;
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 0 8px;
      background: var(--ui-bg-top);
      border-bottom: 1px solid rgba(0,0,0,.25);
      font-size: 12px;
      font-weight: 700;
      color: #0b2a3d;
      user-select: none;
      position: relative;
      z-index: 950;
    }

    .dot{
      width: 12px; height: 12px; border-radius: 50%;
      background: radial-gradient(#ffffff, #c9c9c9);
      border: 1px solid rgba(0,0,0,.25);
    }

    .winbtns{ margin-left: auto; display: flex; gap: 6px; }

    .winbtn{
      width: 18px; height: 14px;
      border: 1px solid rgba(0,0,0,.35);
      background: linear-gradient(#ffffff, #d9d9d9);
      border-radius: 2px;
      position: relative;
      overflow: hidden;
    }

    .map-wrap{ position: absolute; inset: 26px 0 0 0; }

    #map{
      height: 100%;
      width: 100%;
      filter: saturate(1.05) contrast(1.05);
      transform: scale(1.01);
    }

    .warp-overlay{
      pointer-events: none;
      position: absolute;
      inset: 0;
      opacity: .18;
      mix-blend-mode: soft-light;
      background:
        radial-gradient(circle at 20% 30%, rgba(255,255,255,.35), transparent 42%),
        radial-gradient(circle at 70% 60%, rgba(0,0,0,.25), transparent 45%),
        linear-gradient(115deg, rgba(255,255,255,.12), rgba(0,0,0,.10));
      animation: drift 14s ease-in-out infinite;
      z-index: 450;
    }

    @keyframes drift{
      0%   { transform: translate(0,0) scale(1); }
      50%  { transform: translate(-8px,6px) scale(1.02); }
      100% { transform: translate(0,0) scale(1); }
    }

    .leaflet-popup-content-wrapper{
      border-radius: 14px;
      box-shadow: 0 10px 26px rgba(0,0,0,.22);
      border: 1px solid rgba(0,0,0,.18);
    }
    .leaflet-popup-tip{
      box-shadow: 0 10px 26px rgba(0,0,0,.22);
    }

    .popup{
      width: 300px;
      font-family: var(--ui-font);
    }
    .popup .title{
      font-size: 12px;
      font-weight: 800;
      line-height: 1.2;
      margin: 2px 0 8px 0;
    }
    .popup .meta{
      display:flex;
      justify-content: space-between;
      align-items:center;
      gap:10px;
      font-size: 11px;
      font-weight: 700;
      color: rgba(0,0,0,.75);
    }
    .popup .meta a{
      text-decoration: none;
      padding: 5px 10px;
      border: 1px solid rgba(0,0,0,.25);
      background: linear-gradient(#ffffff, #e2e2e2);
      color: #111;
      border-radius: 3px;
      position: relative;
      overflow: hidden;
      flex: 0 0 auto;
    }

    /* Old Google Maps–style zoom */
    .leaflet-control-zoom{
      border: 1px solid rgba(0,0,0,.35);
      background: linear-gradient(#eef6ff, #cddff1);
      box-shadow: 0 2px 6px rgba(0,0,0,.25);
    }
    .leaflet-control-zoom a{
      width: 26px; height: 26px; line-height: 26px;
      font-size: 18px; font-weight: bold;
      color: #000; text-align:center;
      background: linear-gradient(#ffffff, #dcdcdc);
      border-bottom: 1px solid rgba(0,0,0,.25);
      position: relative;
      overflow: hidden;
    }
    .leaflet-control-zoom a:last-child{ border-bottom:none; }
    .leaflet-control-zoom a:hover{ background: linear-gradient(#ffffff, #cfe1f1); }

    .leaflet-top.leaflet-left{ top: 36px; left: 14px; }

    /* Pixel-grid texture overlay across module */
    .gmaps-window::after{
      content:"";
      position:absolute;
      inset:0;
      pointer-events:none;
      opacity:.10;
      mix-blend-mode:multiply;
      background:
        linear-gradient(rgba(0,0,0,.06) 1px, transparent 1px),
        linear-gradient(90deg, rgba(0,0,0,.06) 1px, transparent 1px),
        repeating-linear-gradient(45deg,
          rgba(255,255,255,.08) 0px,
          rgba(255,255,255,.08) 1px,
          rgba(0,0,0,.02) 2px,
          rgba(0,0,0,.02) 3px
        );
      background-size: 3px 3px, 3px 3px, 6px 6px;
      z-index: 900;
    }

    /* Pixel texture on UI buttons */
    .leaflet-control-zoom a::after,
    .popup .meta a::after,
    .winbtn::after{
      content:"";
      position:absolute;
      inset:0;
      pointer-events:none;
      opacity:.10;
      background:
        linear-gradient(rgba(0,0,0,.05) 1px, transparent 1px),
        linear-gradient(90deg, rgba(0,0,0,.05) 1px, transparent 1px);
      background-size: 3px 3px;
      mix-blend-mode: multiply;
    }
  </style>
</head>

<body>
  <div class="stage">
    <div class="gmaps-window">
      <div class="titlebar">
        <span class="dot"></span>
        <span>Portfolio Highlights</span>
        <div class="winbtns">
          <span class="winbtn"></span><span class="winbtn"></span><span class="winbtn"></span>
        </div>
      </div>

      <div class="map-wrap">
        <div id="map"></div>
        <div class="warp-overlay"></div>
      </div>
    </div>
  </div>

  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script>
    // If you later make dedicated WordPress pages for each project,
    // update each `link` to the correct page URL.
    const projects = [
      {
        title: "Art & Social Sustainability: Public Spaces That Inspire",
        lat: 60.17744444444444,
        lng: 24.92025,
        link: "https://frawleyevan9.wordpress.com/writing/" // <- change anytime
      },
      {
        title: "Car-Free in the Capital of Sprawl: The Trade-Offs of Living in Culdesac Tempe",
        lat: 33.41408333333333,
        lng: -111.89933333333335,
        link: "https://frawleyevan9.wordpress.com/writing/" // <- change anytime
      },
      {
        title: "River Point District Project Proposal",
        lat: 44.09505555555556,
        lng: -87.66352777777779,
        link: "https://frawleyevan9.wordpress.com/writing/" // <- change anytime
      },
      {
        title: "Beyond Decibels: A Soundscape-Based Policy Framework for Urban Noise Pollution in Madison, Wisconsin",
        lat: 43.034555555555556,
        lng: -89.43697222222222,
        link: "https://frawleyevan9.wordpress.com/sound/" // <- change anytime
      }
    ];

    // Start zoomed out to show the "portfolio geography"
    const map = L.map("map", {
      zoomControl: true,
      attributionControl: false,
      scrollWheelZoom: false
    }).setView([45, -20], 2);

    L.tileLayer(
      "https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",
      { maxZoom: 19 }
    ).addTo(map);

    // Add markers + popups
    const bounds = [];
    projects.forEach(p => {
      bounds.push([p.lat, p.lng]);

      const popupHTML = `
        <div class="popup">
          <div class="title">${p.title}</div>
          <div class="meta">
            <span>${p.lat.toFixed(6)}, ${p.lng.toFixed(6)}</span>
            <a href="${p.link}" target="_top" rel="noopener">Open</a>
          </div>
        </div>
      `;

      L.marker([p.lat, p.lng]).addTo(map).bindPopup(popupHTML, { maxWidth: 340 });
    });

    // Fit the map to your points on load (nice “reveal”)
    if (bounds.length > 1) {
      map.fitBounds(bounds, { padding: [40, 40] });
    } else if (bounds.length === 1) {
      map.setView(bounds[0], 14);
    }
  </script>
</body>
</html>
